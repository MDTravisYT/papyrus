SOUL:
		MOVEQ	#0,	D0
		MOVE.B	OBJ.ACTION(A0),	D0
		MOVE.W	@INDEX(PC,D0.W),	D1
		JMP		@INDEX(PC,D1.W)
		
	@INDEX:
		DC.W	PLAY02_INIT-@INDEX
		DC.W	PLAY02_DO-@INDEX
		DC.W	PLAY02_DELETE-@INDEX
		DC.W	PLAY02_DELETE-@INDEX
		
PLAY02_INIT:
		ADDQ.B	#2,	OBJ.ACTION(A0)
		MOVE.B	#$12,	OBJ.YRAD(A0)
		MOVE.B	#9,	OBJ.XRAD(A0)
		MOVE.L	#MAP_SOUL,	OBJ.MAP(A0)
		MOVE.W	#$1,	OBJ.TILE(A0)
		MOVE.B	#4,	OBJ.RENDERFLAGS(A0)
		MOVE.B	#2,	OBJ.PRIORITY(A0)

PLAY02_DO:
		BSR.W	@JOYPADCTRL
		JMP		_OBJECTDISPLAY
		
	@JOYPADCTRL:
		MOVE.B	(JOYPAD).W,	D4
		MOVE.W	OBJ.Y(A0),	D2
		MOVE.W	OBJ.X(A0),	D3
		MOVEQ	#1,	D1
		BTST	#0,	D4
		BEQ.S   LOC_11226
		SUB.W   D1,D2

LOC_11226:		              ; ...
		BTST    #1,D4
		BEQ.S   LOC_1122E
		ADD.W   D1,D2

LOC_1122E:		              ; ...
		BTST    #2,D4
		BEQ.S   LOC_11236
		SUB.W   D1,D3

LOC_11236:		              ; ...
		BTST    #3,D4
		BEQ.S   LOC_1123E
		ADD.W   D1,D3
		
LOC_1123E:		              ; ...
		MOVE.W  D2,OBJ.Y(A0)
		MOVE.W  D3,OBJ.X(A0)
		BTST    #4,(JOYPADPRESS).W
		BEQ.S   LOC_11264
		MOVE.B  OBJ.RENDERFLAGS(A0),D0
		MOVE.B  D0,D1
		ADDQ.B  #1,D0
		ANDI.B  #3,D0
		ANDI.B  #$FC,D1
		OR.B    D1,D0
		MOVE.B  D0,OBJ.RENDERFLAGS(A0)

LOC_11264:		              ; ...
		BTST    #5,(JOYPADPRESS).W
		BEQ.S   LOC_1127E
		ADDQ.B  #1,OBJ.ANIM(A0)
		CMPI.B  #$19,OBJ.ANIM(A0)
		BCS.S   LOC_1127E
		MOVE.B  #0,OBJ.ANIM(A0)
		
LOC_1127E:
		JSR		_OBJECTDISPLAY
		RTS

PLAY02_DELETE:
		RTS
		
MAP_SOUL:
		INCBIN	"SRC/OBJ/SOUL.MAP"