MAIN:
		JSR		CLEARSCREEN
		
		move.l	#VRAMWRITE,	(VDPCTRL)
		LEA		BATTLEART,		A0
		LEA		VDPDATA,	A1
		MOVE.W	#$17FF,		D0
	@LOADGFX:
		MOVE.W	(A0)+,	(A1)
		DBF		D0,	@LOADGFX
		
		LEA		BATTLEPAL,	A0
		LEA		PALFADEBUFFER,	A1
		MOVE.B	#16,	D0
	@PALLOOP:
		MOVE.L	(A0)+,	(A1)+
		DBF		D0,	@PALLOOP
		
	COPYTILEMAP		BATTLEMAP,	$8084,	35,	25
	
		MOVE.B	#$01,	(OBJSLOT00)
		LEA		(OBJSLOT00),	A0
		MOVE.W	#160,	OBJ.X(A0)
		MOVE.W	#112,	OBJ.Y(A0)
		
		JSR		PALFADEIN
	@loop:
		MOVE.B	#1,	(VBLANKCMD).W
		jsr		VSYNC
		JSR		RUNOBJECTS
		JSR		PROCESSSPRITES
		bra.s	@loop
		rts
		
BATTLEPAL:	INCBIN		"PAL/BATTLE.PAL"
BATTLEMAP:	INCBIN		"MAP/BATTLE.MAP"
BATTLEART:	INCBIN		"ART/BATTLE.UNC"