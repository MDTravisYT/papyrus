TESTBG:
		MOVE.W	#%0000000110000000,	VDPDEBUG
		COPYTILEMAP		MAP_TESTBG1,	$C000,	60,	13
		COPYTILEMAP		MAP_TESTBG2,	$E000,	60,	13
	
		LEA		PAL_TESTBG,	A0
		LEA		PALFADEBUFFER,	A1
		MOVE.B	#16,	D0
	@PALLOOP:
		MOVE.L	(A0)+,	(A1)+
		DBF		D0,	@PALLOOP
		
		move.l	#VRAMWRITE,	(VDPCTRL)	;	TODO: Optimize this into a list
		LEA		ART_TESTBG,		A0
		LEA		VDPDATA,	A1
		MOVE.W	#(ART_TESTBG_END-ART_TESTBG)/2-1,		D0
	@LOADGFX:
		MOVE.W	(A0)+,	(A1)
		DBF		D0,	@LOADGFX
		
		JSR		PALFADEIN
		
	@LOOP:
		MOVE.B	#1,	(VBLANKCMD).W
		jsr		VSYNC
		
		LEA		OBJSLOT00,	A0
		LEA		OBJSLOT01,	A1
		LEA		OBJSLOT02,	A3
		
		MOVE.W	#1,		(A0)
		ADD.W	#1,		(A1)
		MOVE.W	(A1),	D2
		ADD.W	D2,	(A0)
		
		LEA		HSCROLLTABLE+$20,	A2
		MOVE.L	#120,	D6
	@SCROLL:
		MOVE.W	(A0),	D0
		
		JSR		CALCSINE
		
		ROR.W	#2,	D0
		ROR.W	#2,	D1
		
		MOVE.W	D0,		(A2)
		ADD.W	D2,	(A2)
		ADD.W	D2,	(A2)+
		MOVE.W	D1,		(A2)
		SUB.W	D2,	(A2)
		SUB.W	D2,	(A2)+
		
		ADD.W	#1,		(A0)

		DBF		D6,	@SCROLL
		
		JMP		@LOOP
		
ART_TESTBG:		INCBIN	"art\COOL.UNC"
	ART_TESTBG_END:
MAP_TESTBG1:		INCBIN	"MAP\COOL.MAP"
MAP_TESTBG2:		INCBIN	"MAP\COOL2.MAP"
PAL_TESTBG:		INCBIN	"PAL\TST.PAL"